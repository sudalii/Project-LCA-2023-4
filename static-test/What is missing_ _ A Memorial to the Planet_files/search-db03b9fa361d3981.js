(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{43195:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return m}});var r=n(59499),c=n(67294),i=n(11163),a=n(13541),s=n(86010),u=n(75947),o=n.n(u),l=n(66771),f=n(63941),h=n(49568),_=n(79307),p=n(77843),d=n(85893);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var m=!0;t.default=function(e){var t=e.data,n=(0,p.s6)("setExitFn"),u=(0,c.useRef)(null),m=(0,c.useRef)(null),v=(0,i.useRouter)(),C=(0,c.useState)(t.dots),b=C[0],g=C[1],y=(0,c.useState)(""),x=y[0],S=y[1],O=(0,c.useState)(null),E=O[0],N=O[1],w=(0,c.useState)(!1),P=w[0],k=w[1],I=(0,c.useState)(t.dots),T=I[0],Z=I[1],B=(0,c.useState)("all"),W=B[0],M=B[1],R=(0,c.useState)(1),U=R[0],A=R[1];(0,a.bt)((function(){u.current&&E&&!P&&((0,l.BW)(u.current),k(!0))}),[u.current,E]),(0,c.useEffect)((function(){u.current&&n((function(e,t){return(0,l.kn)(u.current,(function(){return v.push(e)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({toPath:e},t))}))}),[u.current]),(0,c.useEffect)((function(){var e=t.dots.filter((function(e){return 1===e.priority})).sort((function(){return Math.random()-.5})).sort((function(e,t){return"memory"===e.type?1:"memory"===t.type?-1:0}));g(e),N(e)}),[]),(0,c.useEffect)((function(){t.dots.forEach((function(e){var t=e.title.split(" ");e.splitTitle=t}))}),[]);var D=function(e,t){if("all"===e)g(t);else if("timeline"===e){var n=t.filter((function(t){return t.type===e}));g(n)}else{var r=t.filter((function(t){return t.filterType===e}));g(r)}},q=function(e){var t=e.target.value;"all"===W&&(0,l.VT)(u.current),A(1),M(t),D(t,T)};return(0,d.jsx)("div",{className:o().container,ref:u,children:(0,d.jsxs)("div",{className:o().grid,children:[(0,d.jsx)("div",{className:(0,s.Z)(o().titleContainer,"js-search__title-container","hide-fouc"),children:(0,d.jsx)("h1",{className:o().title,children:"Search"})}),(0,d.jsxs)("div",{className:(0,s.Z)(o().contentContainer,"js-search__content-container","hide-fouc"),children:[(0,d.jsx)("input",{className:(0,s.Z)(o().searchInput,"js-search__search-input"),placeholder:"Search",value:x,onChange:function(e){return function(e){A(1);var n=e.target.value;if(n.length>0){var r=t.dots.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())}));r.forEach((function(e){e.splitTitle.forEach((function(t){var r=new RegExp("^".concat(n),"gi");t.match(r)?e.startsWithSearchInput=!0:e.startsWithSearchInput=!1}))}));var c=r.sort((function(e,t){return e.startsWithSearchInput&&!t.startsWithSearchInput?-1:!e.startsWithSearchInput&&t.startsWithSearchInput?1:0}));Z(c),D(W,c)}else g(E);S(n)}(e)}}),(0,d.jsxs)("fieldset",{ref:m,className:(0,s.Z)(o().filterContainer,"js-search__filter-container","hide-fouc"),onChange:function(e){return q(e)},children:[(0,d.jsx)(f.EU,{onChange:function(){return q("timeline")},value:"timeline",name:"filter",children:"Timeline"}),(0,d.jsx)(f.EU,{onChange:function(){return q("singularity")},value:"singularity",name:"filter",children:"Account"}),(0,d.jsx)(f.EU,{onChange:function(){return q("video")},value:"video",name:"filter",children:"Video"}),(0,d.jsx)(f.EU,{onChange:function(){return q("memory")},value:"memory",name:"filter",children:"Memory"}),(0,d.jsxs)("button",{type:"button",className:(0,s.Z)(o().clearButton,"js-search__clear-button"),onClick:function(){A(1),D("all",T),M("all"),(0,l.pU)(u.current),m.current.querySelectorAll('input[type="radio"]').forEach((function(e){e.checked=!1}))},children:[(0,d.jsx)(h.UZ,{})," Clear"]})]}),(0,d.jsx)("h2",{className:(0,s.Z)(o().subtitle,"js-search__subtitle","hide-fouc"),children:x.length>0?"All Results (".concat(b.length,")"):"Featured"}),(0,d.jsx)("ul",{className:o().resultsContainer,children:b.slice(0,20*U).map((function(e){return(0,d.jsx)(_.T2,{data:e,searchInput:x},e.slug)}))}),b.length>20*U&&""!==x&&(0,d.jsxs)("button",{type:"button",onClick:function(){return A(U+1)},className:o().seeMoreButton,children:["See More Results"," ",(0,d.jsx)("div",{className:o().iconContainer,children:(0,d.jsx)(h.ol,{})})]})]})]})})}},27646:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return n(43195)}])},75947:function(e){e.exports={container:"search_container__Jwhlc",grid:"search_grid__4Bnu9",titleContainer:"search_titleContainer__lTNs0",searchInput:"search_searchInput__5bKxS",subtitle:"search_subtitle__maOfp",contentContainer:"search_contentContainer__8q8_Y",filterContainer:"search_filterContainer__9j_Yj",resultsContainer:"search_resultsContainer__pO2JA",clearButton:"search_clearButton__FkwQu",seeMoreButton:"search_seeMoreButton__u7Xqm",iconContainer:"search_iconContainer__7Zh0G"}}},function(e){e.O(0,[774,888,179],(function(){return t=27646,e(e.s=t);var t}));var t=e.O();_N_E=t}]);